<h3 class='d-flex justify-content-between mb-5'>
  <div>
    <%= @page.title %>
    <%= link_to 'Edit', edit_notebook_page_path(@notebook, @page), class: 'btn btn-outline-primary' %>
  </div>

  <%= form_with(model: [@notebook, @page, @paragraph]) do |form| %>
    <%= form.submit "Add Paragraph", class: 'btn btn-primary' %>
  <% end %>
</h3>

<% @page.paragraphs.each do |paragraph| %>
  <% if paragraph.persisted? %>
    <div class="text-content p-4 mb-2">
      <% if paragraph.content.present? %>
        <%= paragraph.content %>
      <% else %>
        <i>Click here to add text...</i>
      <% end %>
    </div>
    <div class="form-content p-4 mb-2 d-none">
      <%= form_with(model: [@notebook, @page, paragraph]) do |form| %>
        <%= form.rich_text_area :content %>
        <div class="buttons mt-3">
          <%= form.submit "Save", class: 'btn btn-primary' %>
          <a href="#" class="cancel btn btn-light">Cancel</a>
        </div>
      <% end %>
    </div>
  <% end %>
<% end %>